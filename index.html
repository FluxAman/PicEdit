<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProResize</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="background-animation"></div>

    <div class="container">
        <header class="header">
            <div class="logo">
                <i class="fas fa-image"></i>
                <h1>ProResize</h1>
            </div>
            <p class="tagline">Professional Image Processing & Optimization</p>
        </header>

        <!-- Upload Section -->
        <section class="upload-section" id="uploadSection">
            <div class="upload-zone" id="uploadZone">
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <h2>Drop images here or click to upload</h2>
                <p>Support for JPEG, PNG, WebP • Single or multiple files</p>
                <input type="file" id="imageInput" accept="image/*" multiple hidden>
                <button class="btn-primary" onclick="document.getElementById('imageInput').click()">
                    <i class="fas fa-folder-open"></i> Browse Files
                </button>
            </div>
        </section>

        <!-- Main Processing Area -->
        <div class="processing-area" id="processingArea" style="display: none;">

            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="resize">
                    <i class="fas fa-expand-arrows-alt"></i> Resize
                </button>
                <button class="tab-btn" data-tab="filters">
                    <i class="fas fa-magic"></i> Filters
                </button>
                <button class="tab-btn" data-tab="crop">
                    <i class="fas fa-crop"></i> Crop
                </button>
                <button class="tab-btn" data-tab="batch">
                    <i class="fas fa-layer-group"></i> Batch (<span id="batchCount">0</span>)
                </button>
            </div>

            <!-- Preview Section -->
            <div class="preview-section">
                <div class="preview-container">
                    <div class="preview-header">
                        <h3>Preview</h3>
                        <div class="preview-controls">
                            <button class="btn-icon" id="compareBtn" title="Compare Before/After">
                                <i class="fas fa-columns"></i>
                            </button>
                            <button class="btn-icon" id="resetBtn" title="Reset">
                                <i class="fas fa-undo"></i>
                            </button>
                        </div>
                    </div>

                    <div class="image-preview-wrapper">
                        <div class="comparison-view" id="comparisonView" style="display: none;">
                            <div class="comparison-side">
                                <span class="comparison-label">Original</span>
                                <img id="originalPreview" alt="Original">
                                <p class="image-info" id="originalInfo"></p>
                            </div>
                            <div class="comparison-side">
                                <span class="comparison-label">Processed</span>
                                <img id="processedPreview" alt="Processed">
                                <p class="image-info" id="processedInfo"></p>
                            </div>
                        </div>
                        <div class="single-view" id="singleView">
                            <img id="preview" alt="Preview">
                            <canvas id="canvas" style="display: none;"></canvas>
                        </div>
                    </div>

                    <div class="image-metadata" id="imageMetadata"></div>
                </div>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">

                <!-- Resize Tab -->
                <div class="tab-pane active" id="resizeTab">
                    <div class="control-section">
                        <h3><i class="fas fa-sliders-h"></i> Resize Options</h3>

                        <div class="control-group">
                            <label for="resizeMode">Resize Mode:</label>
                            <select id="resizeMode">
                                <option value="dimensions">By Dimensions (Width × Height)</option>
                                <option value="filesize">By File Size (KB)</option>
                            </select>
                        </div>

                        <!-- Resize by Dimensions -->
                        <div class="dimension-controls" id="dimensionControls">
                            <div class="control-group">
                                <label for="width">
                                    Width:
                                    <button class="btn-icon-small" id="lockAspect" title="Lock aspect ratio">
                                        <i class="fas fa-lock"></i>
                                    </button>
                                </label>
                                <div class="input-with-unit">
                                    <input type="number" id="width" placeholder="Width" min="1">
                                    <span class="unit">px</span>
                                </div>
                            </div>

                            <div class="control-group">
                                <label for="height">Height:</label>
                                <div class="input-with-unit">
                                    <input type="number" id="height" placeholder="Height" min="1">
                                    <span class="unit">px</span>
                                </div>
                            </div>
                        </div>

                        <!-- Resize by File Size -->
                        <div class="dimension-controls" id="filesizeControls" style="display: none;">
                            <div class="control-group">
                                <label for="targetFileSize">Target File Size:</label>
                                <div class="input-with-unit">
                                    <input type="number" id="targetFileSize" placeholder="e.g., 50" min="1" value="50">
                                    <span class="unit">KB</span>
                                </div>
                            </div>
                            <div class="crop-info">
                                <p><i class="fas fa-info-circle"></i> Image will be compressed to approximately the
                                    target file size</p>
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="outputFormat">Output Format:</label>
                            <select id="outputFormat">
                                <option value="jpeg">JPEG</option>
                                <option value="png">PNG</option>
                                <option value="webp">WebP</option>
                            </select>
                        </div>

                        <div class="control-group">
                            <label for="quality">
                                Quality: <span id="qualityValue">80</span>%
                            </label>
                            <input type="range" id="quality" min="1" max="100" value="80">
                        </div>

                        <button class="btn-primary btn-large" id="applyResize">
                            <i class="fas fa-check"></i> Apply Resize
                        </button>
                    </div>
                </div>

                <!-- Filters Tab -->
                <div class="tab-pane" id="filtersTab">
                    <div class="control-section">
                        <h3><i class="fas fa-palette"></i> Image Filters</h3>

                        <div class="control-group">
                            <label for="brightness">
                                Brightness: <span id="brightnessValue">100</span>%
                            </label>
                            <input type="range" id="brightness" min="0" max="200" value="100">
                        </div>

                        <div class="control-group">
                            <label for="contrast">
                                Contrast: <span id="contrastValue">100</span>%
                            </label>
                            <input type="range" id="contrast" min="0" max="200" value="100">
                        </div>

                        <div class="control-group">
                            <label for="saturation">
                                Saturation: <span id="saturationValue">100</span>%
                            </label>
                            <input type="range" id="saturation" min="0" max="200" value="100">
                        </div>

                        <div class="control-group">
                            <label for="blur">
                                Blur: <span id="blurValue">0</span>px
                            </label>
                            <input type="range" id="blur" min="0" max="10" value="0">
                        </div>

                        <div class="filter-presets">
                            <label>Quick Filters:</label>
                            <div class="preset-grid">
                                <button class="preset-btn" data-filter="grayscale">Grayscale</button>
                                <button class="preset-btn" data-filter="sepia">Sepia</button>
                                <button class="preset-btn" data-filter="vintage">Vintage</button>
                                <button class="preset-btn" data-filter="vibrant">Vibrant</button>
                                <button class="preset-btn" data-filter="reset">Reset All</button>
                            </div>
                        </div>

                        <button class="btn-primary btn-large" id="applyFilters">
                            <i class="fas fa-check"></i> Apply Filters
                        </button>
                    </div>
                </div>

                <!-- Crop Tab -->
                <div class="tab-pane" id="cropTab">
                    <div class="control-section">
                        <h3><i class="fas fa-crop-alt"></i> Crop Image</h3>

                        <div class="control-group">
                            <label for="cropRatio">Aspect Ratio:</label>
                            <select id="cropRatio">
                                <option value="free">Free Form</option>
                                <option value="1:1">1:1 (Square)</option>
                                <option value="4:3">4:3</option>
                                <option value="16:9">16:9</option>
                                <option value="3:2">3:2</option>
                                <option value="2:3">2:3 (Portrait)</option>
                            </select>
                        </div>

                        <div class="crop-info">
                            <p><i class="fas fa-info-circle"></i> Click and drag on the image to select crop area</p>
                        </div>

                        <button class="btn-primary btn-large" id="applyCrop">
                            <i class="fas fa-check"></i> Apply Crop
                        </button>
                    </div>
                </div>

                <!-- Batch Tab -->
                <div class="tab-pane" id="batchTab">
                    <div class="control-section">
                        <h3><i class="fas fa-images"></i> Batch Processing</h3>

                        <div class="batch-gallery" id="batchGallery"></div>

                        <div class="batch-controls">
                            <p class="batch-info">
                                <i class="fas fa-info-circle"></i>
                                Settings from Resize tab will be applied to all images
                            </p>

                            <div class="progress-container" id="progressContainer" style="display: none;">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                                <p class="progress-text" id="progressText">Processing: 0%</p>
                            </div>

                            <button class="btn-primary btn-large" id="processBatch">
                                <i class="fas fa-cogs"></i> Process All Images
                            </button>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Download Section -->
            <div class="download-section" id="downloadSection" style="display: none;">
                <div class="download-controls">
                    <div class="control-group download-format-group">
                        <label for="downloadFormat">Download Format:</label>
                        <select id="downloadFormat">
                            <option value="png">PNG (Lossless)</option>
                            <option value="jpeg">JPEG (Compressed)</option>
                            <option value="webp">WebP (Modern)</option>
                        </select>
                    </div>
                    <div class="control-group download-quality-group" id="downloadQualityGroup">
                        <label for="downloadQuality">
                            Quality: <span id="downloadQualityValue">90</span>%
                        </label>
                        <input type="range" id="downloadQuality" min="1" max="100" value="90">
                    </div>
                </div>
                <div class="download-buttons">
                    <button class="btn-success btn-large" id="downloadBtn">
                        <i class="fas fa-download"></i> Download Image
                    </button>
                    <button class="btn-success btn-large" id="downloadAllBtn" style="display: none;">
                        <i class="fas fa-file-archive"></i> Download All as ZIP
                    </button>
                </div>
            </div>

        </div>
    </div>

    <footer class="footer">
        <p>ProResize - Professional Image Processing Tool • All processing done locally in your browser</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="script.js"></script>
</body>

</html>